<!doctype html>
<html lang='en'>
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <title>Bootstrap demo</title>
        <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD' crossorigin='anonymous'>
        <link rel="stylesheet" href="/static/css/style.css">
    </head>
    <body class="bg-black">
        <div class="container mobile-container text-light">
            <div class="card rounded-2 my-bg-dark p-4 mt-5">
                <div class="row">
                    <div class="col-2">
                        <img src="/static/images/default_user.webp" class="mt-1 rounded-circle" width="50">
                    </div>
                    <div class="col px-3">
                        <p class="m-0 mt-1" id="namePlaceholder"></p>
                        <p class="m-0 text-muted">Verified</p>
                    </div>
                </div>
            </div>
            <p class="fs-5 my-3 p-1">
                Edit Profile
            </p>
            <div class="card rounded-2 my-bg-dark p-4">
                <form action="" method="post">
                    <h6 class="mt-2">First Name</h6>
                    <input type="text" class="outline-none w-100 border-0 bg-gray rounded p-2 text-light" id="fname" name="fname" value="{{session['fname']}}">
                    <h6 class="mt-2">Last Name</h6>
                    <input type="text" class="outline-none w-100 border-0 bg-gray rounded p-2 text-light" id="lname" name="lname" value="{{session['lname']}}">
                    <h6 class="mt-2">Mobile Number</h6>
                    <input type="text" class="outline-none w-100 border-0 bg-gray rounded p-2 text-light" id="mobile_number" name="mobile_number" value="{{session['mobile_number']}}">
                    <h6 class="mt-2">Address</h6>
                    <input type="text" class="outline-none w-100 border-0 bg-gray rounded p-2 text-light" id="address" name="address" value="{{session['address']}}">  
                    <div class="row mt-3">
                        <div class="col">
                            <a href="/dashboard" class="btn btn-danger w-100 btn-sm">Cancel</a>
                        </div>
                        <div class="col">
                            <input type="submit" class="btn btn-success w-100 btn-sm" value="Save">
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- OFF CANVAS -->
        <script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
        <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js' integrity='sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN' crossorigin='anonymous'></script>
        <script>



            function updateData(){
                $.post('/api/user_data', function(result){
                    console.log(result)
                    $("#namePlaceholder").text(result.data.fname + " " + result.data.lname)
                    $("#fname").val(result.data.fname)
                    $("#lname").val(result.data.lname)
                    $("#mobile_number").val(result.data.mobile_number)
                    $("#address").val(result.data.address)

                    
                });
            }
            updateData()
        </script>
    </body>
</html>



<!--Create by Thaddeus Toledo ;)-->